local library = loadstring(game:HttpGet('https://raw.githubusercontent.com/cueshut/saves/main/criminality%20paste%20ui%20library'))()

-- // Window \\ --
local window = library.new('Void.lua Murder Vs Sheriff [FREE]', 'By Zor')

-- // Tabs \\ --
local tab = window.new_tab('rbxassetid://4483345998')
local tab2 = window.new_tab('rbxassetid://4483345998')

-- // Sections \\ --
local section = tab.new_section('Main')
local section1 = tab.new_section('Addons')
local section2 = tab2.new_section('ESP')

-- // Sector \\ --
local sector = section.new_sector('Autofarming', 'Left')
local sector1 = section1.new_sector('More Autofarming', 'Right')
local sector1 = section2.new_sector('Esp', 'Left')



local killAllEnabled = false

-- Function to handle enabling the kill functionality
function EnableKillAll()
    while killAllEnabled do
        local success, err = pcall(function()
            local Backpack = game:GetService("Players").LocalPlayer.Backpack:GetChildren()
            local gun = nil

            -- Equip Gun If Not Equipped
            for _, v in pairs(Backpack) do
                if v:FindFirstChildWhichIsA("Sound") then
                    gun = v
                    gun.Parent = game:GetService("Players").LocalPlayer.Character
                end
            end

            -- Loop through all players in the workspace
            for _, v in pairs(workspace:GetChildren()) do
                if v:IsA("Model") and game.Players:FindFirstChild(v.Name) and v.Name ~= game.Players.LocalPlayer.Name and not v:FindFirstChild("Highlight") then
                    -- Define arguments for the shooting action
                    local args = {
                        Vector3.new(-265.2897033691406, 62.42794036865334, 162.05580139160156),  -- Target position (adjust if needed)
                        Vector3.new(-219.57574462890625, 54.045166015625, 319.8157653808594), -- Another target position
                        v.LeftLowerArm.Part,  -- Target part of the model (change this to whatever part you need)
                        Vector3.new(-234.1997833251953, 58.66779708862305, 272.2261657714844)  -- Another position (adjust if needed)
                    }

                    -- Fire the remote to trigger the shooting action
                    game:GetService("ReplicatedStorage").Remotes.Shoot:FireServer(unpack(args))
                end
            end
        end)

        if not success then
            warn("Error in EnableKillAll: " .. tostring(err))
        end

        -- Avoid overloading the game loop
        task.wait(0.1) -- Adjust delay as needed for performance
    end
end

-- Toggle using sector.element
local toggle = sector.element('Toggle', 'Kill All', false, function(v)
    killAllEnabled = v.Toggle
    print("Kill All Enabled:", v.Toggle)

    if killAllEnabled then
        task.spawn(EnableKillAll) -- Run in a separate thread
    else
        killAllEnabled = false -- Ensure loop stops
    end
end)
